<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Honest News Network</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
  body{margin:0;font-family:system-ui;background:#fff;color:#333;line-height:1.7}
  nav{background:rgba(0,0,0,0.9);backdrop-filter:blur(12px);position:fixed;top:0;width:100%;z-index:1000;padding:16px 0}
  nav ul{list-style:none;display:flex;justify-content:center;gap:60px;margin:0}
  nav a{color:white;text-decoration:none;font-weight:600;font-size:1.15rem;display:flex;align-items:center;gap:10px;padding:12px 0;transition:0.3s}
  nav a:hover,nav a.active{color:#16a34a;border-bottom:3px solid #16a34a;padding-bottom:9px}
  main{margin-top:80px}
  .hero{height:90vh;background:center/cover no-repeat;position:relative;display:flex;align-items:center;justify-content:center;color:white;text-align:center}
  .hero::before{content:"";position:absolute;inset:0;background:rgba(0,0,0,0.5)}
  .hero h1{font-size:5rem;margin:0;text-shadow:0 0 40px black}
  .hero p{font-size:1.8rem;margin:20px 0;opacity:0.9}
  .content{max-width:1100px;margin:0 auto;padding:80px 20px}
  .btn{background:#16a34a;color:white;padding:18px 45px;border-radius:50px;font-weight:600;display:inline-block;margin:20px 0}
  @media(max-width:768px){ nav ul{flex-direction:column;gap:10px} .hero h1{font-size:3rem} }
</style>
</head>
<body>

<nav id="nav"><ul></ul></nav>

<main id="main"></main>

<script>
fetch("site-data.json?t="+Date.now())
  .then(r=>r.json())
  .then(site=>{
    const nav = document.querySelector("#nav ul");
    site.pages.forEach((p,i)=>{
      const li=document.createElement("li");
      const a=document.createElement("a");
      a.href="#"; a.textContent=p.title;
      a.onclick=()=>{ loadPage(p); document.querySelectorAll("nav a").forEach(x=>x.classList.remove("active")); a.classList.add("active"); return false; }
      if(i===0) a.classList.add("active");
      li.appendChild(a); nav.appendChild(li);
    });
    loadPage(site.pages[0]);
  });

function loadPage(p){
  const hero = p.hero || {};
  document.getElementById("main").innerHTML = `
    <div class="hero" style="background-image:url(${hero.bg||''});background-attachment:${hero.parallax?'fixed':'scroll'};height:${hero.size==='large'?'90vh':hero.size==='medium'?'70vh':'50vh'}">
      <div style="position:relative;z-index:2;max-width:90%">
        <h1>${hero.overlay||p.title}</h1>
        ${hero.sub?`<p>${hero.sub}</p>`:""}
      </div>
    </div>
    <div class="content">
      ${p.blocks?.map(b=>{
        if(b.type==="heading") return `<h2 style="font-size:2.8rem;margin:50px 0 20px">${b.text}</h2>`;
        if(b.type==="text") return `<p style="font-size:1.2rem">${b.text.replace(/\n/g,'<br>')}</p>`;
        if(b.type==="image") return `<img src="${b.src}" style="max-width:100%;border-radius:16px;margin:40px 0">`;
        if(b.type==="button") return `<a href="${b.url}" class="btn">${b.text}</a>`;
      }).join("") || ""}
    </div>
  `;
}
</script>
</body>
</html>

