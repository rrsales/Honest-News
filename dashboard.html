<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>0Builder CMS Platform 1.0 – 0Builder.LLC</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Protect dashboard -->
  <script>
    if (localStorage.getItem("hn_logged") !== "yes") {
      location.href = "admin.html";
    }
  </script>

  <!-- CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>

  <style>
    /* ... your existing CSS here (top-welcome, panels, preview, right panel, etc.) ... */
    :root{
      --bg: #02040a;
      --card-bg: #05070c;
      --border: #1f2937;
      --shadow-soft: 0 20px 45px rgba(0,0,0,0.75);
      --accent: #0ea5e9;
      --accent-soft: #0369a1;
      --accent-soft-bg: rgba(14,165,233,.12);
      --text-main: #e5e7eb;
      --text-soft: #9ca3af;
      --radius-lg: 20px;
      --radius-md: 12px;
      --radius-pill: 999px;
    }
    /* ... rest of your CSS ... */
  </style>
</head>
<body>

<!-- TOP WELCOME -->
<div class="top-welcome">
  <div class="top-left">
    <span class="label">0Builder CMS Platform 1.0</span>
    <span class="title">Welcome back, Joseph</span>
  </div>
  <div class="top-actions">
    <span class="pill-badge">
      <i class="fa-regular fa-circle-dot"></i>
      Unlimited Builds – $20/month
    </span>
    <button class="logout-btn" onclick="localStorage.removeItem('hn_logged');location.href='admin.html'">
      <i class="fa-solid fa-right-from-bracket"></i> Log Out
    </button>
  </div>
</div>

<div class="main" id="main">
  <!-- LEFT PANEL HANDLE -->
  <div id="leftPanelHandle" onclick="toggleLeftPanel()">▸</div>

  <!-- LEFT PANEL -->
  <aside class="sidebar" id="leftSidebar">
    <!-- Pages -->
    <div class="sidebar-section">
      <button class="sidebar-section-header" type="button" onclick="toggleSidebarSection('pages')">
        <span class="label">Pages</span>
        <i class="fa-solid fa-chevron-right sidebar-chevron" id="pagesChevron"></i>
      </button>
      <div class="sidebar-section-body closed" id="pagesSection">
        <div class="sidebar-inner" id="pages"></div>
        <button class="btn secondary" style="width:100%;margin-top:8px;" onclick="newPage()">+ New Page</button>
      </div>
    </div>
    <!-- Navigation -->
    <div class="sidebar-section">
      <button class="sidebar-section-header" type="button" onclick="toggleSidebarSection('nav')">
        <span class="label">Navigation</span>
        <i class="fa-solid fa-chevron-right sidebar-chevron" id="navChevron"></i>
      </button>
      <div class="sidebar-section-body closed" id="navSection">
        <p class="field-hint" style="margin-top:4px;">
          One per line: <code>Title | URL</code>
        </p>
        <textarea id="menuRaw" class="textarea-small" oninput="menuFromRaw(this.value)"></textarea>
      </div>
    </div>
  </aside>

  <!-- PREVIEW -->
  <section class="content">
    <div id="previewCard">
      <div id="previewToolbar">
        <div id="previewTitle">
          <span id="previewPageTitle">No page selected</span>
          <span class="slug" id="previewPageSlug"></span>
        </div>
        <div class="device-toggle-group">
          <button class="device-btn active" data-device="desktop"><i class="fa-solid fa-desktop"></i></button>
          <button class="device-btn" data-device="tablet"><i class="fa-solid fa-tablet"></i></button>
          <button class="device-btn" data-device="mobile"><i class="fa-solid fa-mobile"></i></button>
        </div>
      </div>
      <div id="previewInnerWrap">
        <div id="previewFrame" class="desktop">
          <div class="preview-wrap">
            <div id="heroPreview">
              <div id="heroPreviewOverlay"></div>
              <div id="heroPreviewInner">
                <h1>Pick a page on the left</h1>
                <p>Edit with the inspector on the right</p>
              </div>
            </div>
            <div id="blockPreview"></div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>

<!-- RIGHT PANEL -->
<div id="panelHandle" title="Open inspector">◂</div>
<div id="inspectorPanel">
  <div id="panelHeader">
    <div id="panelHeaderLeft">
      <span class="title">Inspector</span>
      <span class="sub" id="panelPageLabel">No page selected</span>
    </div>
    <div id="panelHeaderRight">
      <span id="saveStatusRight" class="pill">Clean</span>
      <button id="closePanelBtn">×</button>
    </div>
  </div>

  <div id="inspectorTabs">
    <button class="inspect-tab active" data-inspect="page">Page</button>
    <button class="inspect-tab" data-inspect="hero">Hero</button>
    <button class="inspect-tab" data-inspect="blocks">Blocks</button>
    <button class="inspect-tab" data-inspect="menu">Menu</button>
    <button class="inspect-tab" data-inspect="site">Site</button>
  </div>

  <div id="inspectorBody"></div>

  <div style="margin-top:10px;">
    <button id="publishBtn" class="btn primary" style="width:100%;margin-bottom:6px;">
      <i class="fa-solid fa-cloud-arrow-up"></i> Publish to GitHub
    </button>
    <button id="saveDraftBtn2" class="btn secondary" style="width:100%;margin-bottom:4px;">
      Save Draft (local)
    </button>
    <button id="downloadBtn2" class="btn ghost" style="width:100%;margin-bottom:4px;">
      Download JSON
    </button>
    <button id="backupBtn2" class="btn ghost" style="width:100%;margin-bottom:4px;">
      Full Backup (.zip)
    </button>
    <a href="index.html" target="_blank" class="btn ghost" style="width:100%;text-decoration:none;justify-content:center;">
      View Live Site ↗
    </a>
  </div>
</div>

<footer style="padding:20px;text-align:center;color:var(--text-soft);font-size:.75rem;border-top:1px solid var(--border);">
  &copy; 2025 0Builder.LLC • 0Builder CMS Platform 1.0
</footer>

<!-- LEFT PANEL TOGGLE FUNCTION -->
<script>
function toggleLeftPanel() {
  const sidebar = document.getElementById('leftSidebar');
  const main = document.getElementById('main');
  sidebar.classList.toggle('open');
  main.classList.toggle('has-left-open');
}

// Optional: close left panel when clicking outside
document.addEventListener('click', (e) => {
  const sidebar = document.getElementById('leftSidebar');
  const handle = document.getElementById('leftPanelHandle');
  if (sidebar.classList.contains('open') && !sidebar.contains(e.target) && !handle.contains(e.target)) {
    toggleLeftPanel();
  }
});
</script>

<!-- MODULE IMPORTS (order: core first) -->
<script type="module" src="modules/core.js"></script>
<script type="module" src="modules/left-panel.js"></script>
<script type="module" src="modules/right-panel.js"></script>
<script type="module" src="modules/preview.js"></script>
<script type="module" src="modules/menu.js"></script>
<script type="module" src="modules/text-editor.js"></script>
<script type="module" src="modules/tools.js"></script>
<script type="module" src="modules/pages.js"></script>

</body>
</html>



