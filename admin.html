<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Admin – Honest News Network</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{background:#111;color:#eee;font-family:system-ui,sans-serif;padding-top:90px}
header{position:fixed;top:0;left:0;right:0;height:90px;background:#000;z-index:1000;display:flex;align-items:center;justify-content:center}
.logo{font-size:2rem;font-weight:900;color:white}
.container{max-width:1000px;margin:2rem auto;padding:2rem;background:#1a1a1a;border-radius:12px}
h2{margin:2rem 0 1rem;font-size:1.8rem}
input,textarea,button{padding:12px;margin:8px 0;width:100%;border-radius:8px;border:none;font-size:1rem}
input,textarea{background:#333;color:#fff}
button{background:#0066cc;color:white;cursor:pointer;font-weight:bold}
button:hover{background:#0055aa}
.slide-preview{margin:1rem 0;padding:1rem;background:#222;border-radius:8px}
.flex{gap:1rem;display:flex;flex-wrap:wrap}
.flex > *{flex:1;min-width:280px}
</style>
</head>
<body>

<header>
  <div class="logo">Admin – Honest News Network</div>
</header>

<div class="container" id="login" style="display:block">
  <h2>Login</h2>
  <input type="password" id="pass" placeholder="Password">
  <button onclick="if(document.getElementById('pass').value==='truth')document.getElementById('login').style.display='none',document.getElementById('panel').style.display='block';">Enter</button>
</div>

<div class="container" id="panel" style="display:none">
  <h2>Hero Carousel Slides</h2>
  <div id="slides"></div>
  <button onclick="addSlide()">+ Add New Slide</button>
  <hr>
  <h2>Site Colors</h2>
  <input type="color" id="primary" value="#0066cc"> Primary Blue<br>
  <input type="color" id="accent" value="#00cc99"> Accent Green<br>
  <hr>
  <button onclick="saveAll()">SAVE EVERYTHING TO data.json</button>
  <p style="margin-top:1rem;color:#0f0">Saved! Refresh site to see changes.</p>
</div>

<script>
const defaultData = {
  heroSlides: [
    {image:"https://images.unsplash.com/photo-1519389951293-7e3e96864eae?q=80&w=2000&auto=format&fit=crop",title:"Honest News. Biblical Truth.",subtitle:"Serving truth with compassion."},
    {image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=2000&auto=format&fit=crop",title:"Daily Podcast",subtitle:"New episodes every Sunday"}
  ],
  colors:{primary:"#0066cc",accent:"#00cc99"}
};

let data = {...defaultData};

function load(){fetch('data.json').then(r=>r.json()).then(d=>data=d).catch(()=>console.log('no data.json yet')).then(render)}
function render(){
  document.getElementById('primary').value=data.colors.primary;
  document.getElementById('accent').value=data.colors.accent;
  const container=document.getElementById('slides');
  container.innerHTML='';
  data.heroSlides.forEach((s,i)=>{
    const div=document.createElement('div'); div.className='slide-preview';
    div.innerHTML=`
      <div class="flex">
        <input placeholder="Image URL" value="${s.image}">
        <input placeholder="Title" value="${s.title}">
        <input placeholder="Subtitle" value="${s.subtitle}">
        <button onclick="this.parentElement.parentElement.remove();data.heroSlides.splice(${i},1)">Delete</button>
      </div>`;
    div.querySelectorAll('input').forEach((inp,j)=>inp.onchange=e=>data.heroSlides[i][['image','title','subtitle'][j]]=e.target.value);
    container.appendChild(div);
  });
}
function addSlide(){
  data.heroSlides.push({image:"",title:"New Slide",subtitle:"Edit me"});
  render();
}
function saveAll(){
  data.colors={primary:document.getElementById('primary').value,accent:document.getElementById('accent').value};
  const blob=new Blob([JSON.stringify(data,null,2)],{type:'application/json'});
  const url=URL.createObjectURL(blob);
  const a=document.createElement('a'); a.href=url; a.download='data.json'; a.click();
  alert('data.json downloaded – upload/replace it in your repo root and commit!');
}
load();
</script>
</body>
</html>
