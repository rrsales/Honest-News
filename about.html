<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Honest News – About</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    body {
      margin:0;
      font-family:system-ui,-apple-system,BlinkMacSystemFont,"SF Pro Text","Segoe UI",sans-serif;
      background:#020617;
      color:#e5e7eb;
    }
    header {
      position:sticky;
      top:0;
      z-index:50;
      background:rgba(15,23,42,0.94);
      backdrop-filter:blur(12px);
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:10px 20px;
      border-bottom:1px solid rgba(148,163,184,0.35);
    }
    .logo { font-weight:700; letter-spacing:.16em; font-size:.9rem; color:#0ea5e9; }
    .nav { display:flex; gap:18px; position:relative; }
    .nav a { text-decoration:none; color:#cbd5f5; padding:4px 2px; border-radius:8px; transition: background .18s; }
    .nav a:hover { background:#111827; color:#e5e7eb; }

    /* Mega Menu */
    .mega-backdrop {
      position:absolute; top:56px; left:0; right:0; display:none; justify-content:center; pointer-events:none;
    }
    .mega-backdrop.show { display:flex; pointer-events:auto; }
    .mega-panel {
      margin-top:4px; background:#020617; border-radius:16px; border:1px solid rgba(148,163,184,.4);
      box-shadow:0 25px 60px rgba(0,0,0,.85); max-width:900px; width:100%; padding:16px 18px;
    }
    .mega-title { font-size:.8rem; text-transform:uppercase; color:#9ca3af; margin-bottom:10px; }
    .mega-grid { display:grid; grid-template-columns:repeat(3,minmax(0,1fr)); gap:12px; }
    .mega-link { display:block; padding:10px; border-radius:12px; text-decoration:none; background:#020617; border:1px solid rgba(31,41,55,.9); color:#e5e7eb; }
    .mega-link-title { font-weight:600; margin-bottom:4px; }
    .mega-link-desc { font-size:.78rem; color:#9ca3af; }
    .mega-link:hover { border-color:#0ea5e9; box-shadow:0 0 0 1px rgba(56,189,248,.4); }

    .burger { display:none; border:none; background:transparent; font-size:1.2rem; cursor:pointer; }
    .mobile-nav { display:none; flex-direction:column; background:#020617; border-top:1px solid rgba(31,41,55,.9); }
    .mobile-nav a { padding:10px 18px; text-decoration:none; color:#e5e7eb; border-bottom:1px solid rgba(31,41,55,.9); }

    @media(max-width:768px){
      .nav { display:none; }
      .burger { display:block; }
      .mega-backdrop { display:none !important; }
    }

    main { padding:60px 20px; max-width:800px; margin:0 auto; }
    h1 { font-size:2rem; margin-top:0; margin-bottom:.7rem; }
    p { color:#9ca3af; line-height:1.6; }
    a.btn-back{
      display:inline-block;
      margin-top:1.2rem;
      padding:0.6rem 1.6rem;
      border-radius:999px;
      background:#0ea5e9;
      color:#0b1120;
      text-decoration:none;
      font-weight:600;
      font-size:.9rem;
    }
  </style>
</head>
<body>

<header>
  <div class="logo">HONEST NEWS</div>
  <nav class="nav" id="navContainer"></nav>
  <button class="burger" id="burgerBtn">☰</button>
</header>

<div class="mega-backdrop" id="megaBackdrop">
  <div class="mega-panel" id="megaPanel">
    <div class="mega-title" id="megaTitle">Explore</div>
    <div class="mega-grid" id="megaInner"></div>
  </div>
</div>

<div class="mobile-nav" id="mobileNav"></div>

<main>
  <h1>About Honest News Network</h1>
  <p>
    This is the About page. It uses the same navigation and mega menu logic as your
    homepage, pulling data from <code>site-data.json</code>.
  </p>
  <a class="btn-back" href="index.html">Back to Home</a>
</main>

<script>
let site = { menu: [] };

// Load JSON menu
async function loadMenu() {
  try {
    const res = await fetch('site-data.json?cache-bust=' + Date.now());
    const data = await res.json();
    site.menu = data.menu || [];
  } catch(e) {
    console.warn("Could not load site-data.json", e);
  }
  buildMenu();
}

function buildMenu() {
  const nav = document.getElementById("navContainer");
  const mobile = document.getElementById("mobileNav");
  nav.innerHTML = "";
  mobile.innerHTML = "";

  site.menu.forEach((item, index) => {
    const label = item.label || "Item";
    const url = item.url || "#";
    const type = item.type || "link";

    const a = document.createElement("a");
    a.textContent = label;
    a.href = url;
    if(type==="mega"){
      a.addEventListener("mouseenter", ()=>openMega(index));
    } else {
      a.addEventListener("mouseenter", closeMega);
    }
    nav.appendChild(a);

    const m = document.createElement("a");
    m.textContent = label;
    m.href = url;
    mobile.appendChild(m);
  });

  document.querySelector("header").addEventListener("mouseleave", (e)=>{
    if(!e.relatedTarget || !e.relatedTarget.closest("#megaPanel")) closeMega();
  });
  document.getElementById("megaPanel").addEventListener("mouseleave", closeMega);

  const burger = document.getElementById("burgerBtn");
  if(burger){
    burger.addEventListener("click", ()=>{
      mobile.style.display = mobile.style.display==="flex" ? "none" : "flex";
    });
  }
}

function openMega(index){
  const item = site.menu[index];
  if(!item || item.type!=="mega") return;
  const subs = Array.isArray(item.subItems)? item.subItems : [];
  const inner = document.getElementById("megaInner");
  const title = document.getElementById("megaTitle");
  const backdrop = document.getElementById("megaBackdrop");
  if(!inner || !title || !backdrop) return;

  title.textContent = item.label || "Explore";
  inner.innerHTML = subs.map(s=>{
    return `
      <a class="mega-link" href="${s.url || '#'}">
        <div class="mega-link-title">${escapeHtml(s.label)}</div>
        <div class="mega-link-desc">${escapeHtml(s.description || '')}</div>
      </a>
    `;
  }).join("");

  backdrop.classList.add("show");
}

function closeMega(){
  const backdrop = document.getElementById("megaBackdrop");
  if(backdrop) backdrop.classList.remove("show");
}

function escapeHtml(str){
  return String(str || "")
    .replace(/&/g,"&amp;")
    .replace(/</g,"&lt;")
    .replace(/>/g,"&gt;")
    .replace(/"/g,"&quot;");
}

loadMenu();
</script>
</body>
</html>


